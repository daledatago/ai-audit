{
  "$id": "https://daledatago.local/schemas/readiness_agent.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Readiness Agent Output",
  "type": "object",
  "properties": {
    "schemaVersion": { "type": "string", "enum": ["0.1"] },
    "workspaceId": { "type": "string", "minLength": 1 },
    "dimensions": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "dimension": {
            "type": "string",
            "enum": [
              "business_alignment",
              "usecase_intake_prioritisation",
              "data_readiness",
              "technical_capacity",
              "security_privacy",
              "governance_for_motion",
              "ai_fluency_operating_model",
              "measurement_value_tracking"
            ]
          },
          "enablers": { "type": "array", "items": { "$ref": "#/$defs/Finding" } },
          "gaps": { "type": "array", "items": { "$ref": "#/$defs/Finding" } },
          "risks": { "type": "array", "items": { "$ref": "#/$defs/Finding" } }
        },
        "required": ["dimension", "enablers", "gaps", "risks"],
        "additionalProperties": false
      }
    }
  },
  "required": ["schemaVersion", "workspaceId", "dimensions"],
  "additionalProperties": false,
  "$defs": {
    "Finding": {
      "type": "object",
      "properties": {
        "type": { "type": "string", "enum": ["enabler", "gap", "risk"] },
        "title": { "type": "string", "minLength": 1 },
        "detail": { "type": "string" },
        "severity": { "type": "string", "enum": ["low", "medium", "high"] },
        "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
        "citations": {
          "type": "array",
          "minItems": 1,
          "items": { "$ref": "common.json#/$defs/Citation" }
        }
      },
      "required": ["type", "title", "confidence", "citations"],
      "additionalProperties": false
    }
  }
}
